<div class="overflow-x-auto shadow-lg rounded-lg border border-gray-100">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">IP Address</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Method</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Path</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status Code</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Response Time (ms)</th>
                <th class="py-3 px-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Request Body</th>
            </tr>
            <tr class="bg-gray-100">
                <th class="py-2 px-6"><input type="text" name="timestamp_filter" id="timestamp_filter_input" placeholder="Filter Timestamp" value="{{ filters.timestamp_filter if filters.timestamp_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th> <!-- Timestamp filter -->
                <th class="py-2 px-6"><input type="text" name="ip_address_filter" id="ip_address_filter_input" placeholder="Filter IP" value="{{ filters.ip_address_filter if filters.ip_address_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th>
                <th class="py-2 px-6"><input type="text" name="method_filter" id="method_filter_input" placeholder="Filter Method" value="{{ filters.method_filter if filters.method_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th>
                <th class="py-2 px-6"><input type="text" name="path_filter" id="path_filter_input" placeholder="Filter Path" value="{{ filters.path_filter if filters.path_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th>
                <th class="py-2 px-6"><input type="text" name="status_code_filter" id="status_code_filter_input" placeholder="Filter Status" value="{{ filters.status_code_filter if filters.status_code_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th>
                <th class="py-2 px-6"></th> <!-- Response Time filter (more complex, leave empty for now) -->
                <th class="py-2 px-6"><input type="text" name="request_body_filter" id="request_body_filter_input" placeholder="Filter Body" value="{{ filters.request_body_filter if filters.request_body_filter else '' }}" class="w-full p-1 text-xs border rounded-md"></th>
            </tr>
        </thead>
            </tr>
            
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for log in logs.items %}
            <tr>
                <td class="py-4 px-6 whitespace-nowrap text-sm text-gray-500">{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                <td class="py-4 px-6 whitespace-nowrap text-sm text-gray-500">{{ log.ip_address }}</td>
                <td class="py-4 px-6 whitespace-nowrap text-sm text-gray-900">{{ log.method }}</td>
                <td class="py-4 px-6 text-sm text-gray-700">{{ log.path }}</td>
                <td class="py-4 px-6 whitespace-nowrap text-sm">
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                                 {% if log.status_code >= 200 and log.status_code < 300 %}bg-green-100 text-green-800
                                 {% elif log.status_code >= 400 and log.status_code < 500 %}bg-yellow-100 text-yellow-800
                                 {% elif log.status_code >= 500 %}bg-red-100 text-red-800
                                 {% else %}bg-gray-100 text-gray-800{% endif %}">
                        {{ log.status_code }}
                    </span>
                </td>
                <td class="py-4 px-6 whitespace-nowrap text-sm text-gray-500">{{ log.response_time_ms }}</td>
                <td class="py-4 px-6 text-sm text-gray-700">{{ log.request_body }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-6 flex justify-between items-center">
    <div>
        <p class="text-sm text-gray-700">
            Showing <span class="font-medium">{{ (logs.page - 1) * logs.per_page + 1 }}</span> to <span class="font-medium">{{ (logs.page - 1) * logs.per_page + logs.items|length }}</span> of <span class="font-medium">{{ logs.total }}</span> results
        </p>
    </div>
    <div class="flex items-center">
        <label for="per_page_socket" class="text-sm text-gray-700 mr-2">Items per page:</label>
        <select id="per_page_socket" name="per_page"
                class="block w-20 p-1 text-xs border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
            {% for num in [10, 25, 50, 100] %}
            <option value="{{ num }}" {% if logs.per_page == num %}selected{% endif %}>{{ num }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="flex-1 flex justify-end">
        {% if logs.has_prev %}
        <a href="{{ url_for('admin.logs_content', page=logs.prev_num, per_page=logs.per_page, log_type='socket', **filters) }}" data-path="{{ url_for('admin.logs_content', page=logs.prev_num, per_page=logs.per_page, log_type='socket', **filters) }}" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
            Previous
        </a>
        {% endif %}
        {% if logs.has_next %}
        <a href="{{ url_for('admin.logs_content', page=logs.next_num, per_page=logs.per_page, log_type='socket', **filters) }}" data-path="{{ url_for('admin.logs_content', page=logs.next_num, per_page=logs.per_page, log_type='socket', **filters) }}" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
            Next
        </a>
        {% endif %}
    </div>
</div>